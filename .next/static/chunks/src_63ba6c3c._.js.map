{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/context/AuthContext.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useState, useEffect, ReactNode } from \"react\";\nimport { Role } from \"@/types/prisma\";\n\ninterface User {\n  id: number;\n  email: string;\n  firstName: string;\n  lastName: string;\n  dateOfBirth: string;\n  phone: string;\n  city: string;\n  role: Role;\n}\n\ninterface SignupData {\n  email: string;\n  password: string;\n  firstName: string;\n  lastName: string;\n  dateOfBirth: string;\n  phone: string;\n  city: string;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  loading: boolean;\n  userRole: Role | null;\n  login: (email: string, password: string, role: Role) => Promise<void>;\n  signup: (data: SignupData) => Promise<void>;\n  logout: () => void;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Check for stored auth token and validate it\n    const storedUser = localStorage.getItem('user');\n    if (storedUser) {\n      setUser(JSON.parse(storedUser));\n    }\n    setLoading(false);\n  }, []);\n\n  const login = async (email: string, password: string, role: Role) => {\n    try {\n      const response = await fetch('/api/auth', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password, role, action: 'login' }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || 'Login failed');\n      }\n\n      const userData = await response.json();\n      setUser(userData);\n      localStorage.setItem('user', JSON.stringify(userData));\n    } catch (error) {\n      console.error('Login error:', error);\n      throw error;\n    }\n  };\n\n  const signup = async (data: SignupData) => {\n    try {\n      const response = await fetch('/api/auth', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ ...data, action: 'signup' }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || 'Signup failed');\n      }\n\n      const userData = await response.json();\n      setUser(userData);\n      localStorage.setItem('user', JSON.stringify(userData));\n    } catch (error) {\n      console.error('Signup error:', error);\n      throw error;\n    }\n  };\n\n  const logout = () => {\n    setUser(null);\n    localStorage.removeItem('user');\n  };\n\n  return (\n    <AuthContext.Provider \n      value={{ \n        user, \n        loading, \n        userRole: user?.role || null,\n        login, \n        signup, \n        logout \n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAmCA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,8CAA8C;YAC9C,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,IAAI,YAAY;gBACd,QAAQ,KAAK,KAAK,CAAC;YACrB;YACA,WAAW;QACb;iCAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,OAAe,UAAkB;QACpD,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,aAAa;gBACxC,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;oBAAU;oBAAM,QAAQ;gBAAQ;YAChE;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;gBACjC,MAAM,IAAI,MAAM,MAAM,KAAK,IAAI;YACjC;YAEA,MAAM,WAAW,MAAM,SAAS,IAAI;YACpC,QAAQ;YACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;QAC9C,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,MAAM;QACR;IACF;IAEA,MAAM,SAAS,OAAO;QACpB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,aAAa;gBACxC,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE,GAAG,IAAI;oBAAE,QAAQ;gBAAS;YACnD;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;gBACjC,MAAM,IAAI,MAAM,MAAM,KAAK,IAAI;YACjC;YAEA,MAAM,WAAW,MAAM,SAAS,IAAI;YACpC,QAAQ;YACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;QAC9C,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,MAAM;QACR;IACF;IAEA,MAAM,SAAS;QACb,QAAQ;QACR,aAAa,UAAU,CAAC;IAC1B;IAEA,qBACE,6LAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA,UAAU,MAAM,QAAQ;YACxB;YACA;YACA;QACF;kBAEC;;;;;;AAGP;GAhFgB;KAAA;AAkFT,SAAS;;IACd,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB","debugId":null}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: \"default\" | \"outline\" | \"ghost\" | \"link\" | \"gradient\";\n  size?: \"default\" | \"sm\" | \"lg\" | \"icon\";\n  isLoading?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant = \"default\", size = \"default\", ...props }, ref) => {\n    const baseStyles = \"inline-flex items-center justify-center rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-zinc-900\";\n    \n    const variants = {\n      default: \"bg-zinc-800 text-white hover:bg-zinc-700 active:bg-zinc-600\",\n      outline: \"border-2 border-blue-500 text-blue-500 hover:bg-blue-500/10 active:bg-blue-500/20\",\n      ghost: \"text-zinc-400 hover:text-white hover:bg-zinc-800 active:bg-zinc-700\",\n      link: \"text-blue-500 hover:text-blue-400 underline-offset-4 hover:underline\",\n      gradient: \"bg-gradient-to-r from-blue-500 to-indigo-600 text-white hover:from-blue-600 hover:to-indigo-700 active:from-blue-700 active:to-indigo-800\"\n    };\n\n    const sizes = {\n      default: \"h-10 px-4 py-2\",\n      sm: \"h-8 px-3 text-xs\",\n      lg: \"h-12 px-8 text-base\",\n      icon: \"h-10 w-10\"\n    };\n\n    return (\n      <button\n        className={cn(\n          baseStyles,\n          variants[variant],\n          sizes[size],\n          \"relative\",\n          props.isLoading && \"cursor-wait\",\n          className\n        )}\n        ref={ref}\n        disabled={props.isLoading || props.disabled}\n        {...props}\n      >\n        {props.isLoading && (\n          <div className=\"absolute inset-0 flex items-center justify-center bg-inherit rounded-md\">\n            <div className=\"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\" />\n          </div>\n        )}\n        <span className={cn(props.isLoading && \"opacity-0\")}>\n          {props.children}\n        </span>\n      </button>\n    );\n  }\n);\nButton.displayName = \"Button\";\n\nexport { Button };\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AASA,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,SAAS,EAAE,GAAG,OAAO,EAAE;IAC/D,MAAM,aAAa;IAEnB,MAAM,WAAW;QACf,SAAS;QACT,SAAS;QACT,OAAO;QACP,MAAM;QACN,UAAU;IACZ;IAEA,MAAM,QAAQ;QACZ,SAAS;QACT,IAAI;QACJ,IAAI;QACJ,MAAM;IACR;IAEA,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,YACA,QAAQ,CAAC,QAAQ,EACjB,KAAK,CAAC,KAAK,EACX,YACA,MAAM,SAAS,IAAI,eACnB;QAEF,KAAK;QACL,UAAU,MAAM,SAAS,IAAI,MAAM,QAAQ;QAC1C,GAAG,KAAK;;YAER,MAAM,SAAS,kBACd,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;;;;;;;;;;0BAGnB,6LAAC;gBAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,MAAM,SAAS,IAAI;0BACpC,MAAM,QAAQ;;;;;;;;;;;;AAIvB;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/types/prisma.ts"],"sourcesContent":["export enum Role {\n  ADMIN = 'ADMIN',\n  EMPLOYEE = 'EMPLOYEE',\n  CUSTOMER = 'CUSTOMER'\n}\n\nexport enum BookingStatus {\n  PENDING = 'PENDING',\n  CONFIRMED = 'CONFIRMED',\n  CANCELLED = 'CANCELLED'\n}\n\nexport interface User {\n  id: number;\n  email: string;\n  password: string;\n  role: Role;\n  createdAt: Date;\n  updatedAt: Date;\n  bookings: Booking[];\n}\n\nexport interface Booking {\n  id: number;\n  userId: number;\n  facility: string;\n  date: Date;\n  startTime: string;\n  duration: number;\n  paymentMethod: string;\n  status: BookingStatus;\n  createdAt: Date;\n  updatedAt: Date;\n  user?: User;\n}\n\nexport interface Equipment {\n  id: number;\n  name: string;\n  description: string;\n  price: number;\n  rentalPrice: number;\n  available: number;\n  createdAt: Date;\n  updatedAt: Date;\n}\n"],"names":[],"mappings":";;;;AAAO,IAAA,AAAK,8BAAA;;;;WAAA;;AAML,IAAA,AAAK,uCAAA;;;;WAAA","debugId":null}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/NavBar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useAuth } from \"@/context/AuthContext\";\nimport { Button } from \"@/components/ui/button\";\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { Role } from \"@/types/prisma\";\n\nexport default function NavBar() {\n  const { user, userRole, logout } = useAuth();\n  const pathname = usePathname();\n  \n  // Don't show navbar on auth pages\n  if (pathname.startsWith(\"/auth/\")) {\n    return null;\n  }\n\n  return (\n    <nav className=\"fixed top-0 left-0 right-0 z-50 bg-zinc-900/95 backdrop-blur-sm border-b border-zinc-800\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between h-16\">\n          <div className=\"flex items-center\">\n            <Link href=\"/\" className=\"text-xl font-bold text-blue-500\">\n              HPU Sports\n            </Link>\n          </div>\n\n          <div className=\"flex items-center space-x-4\">\n            {user ? (\n              <>\n                {userRole === Role.CUSTOMER && (\n                  <>\n                    <Link href=\"/booking\">\n                      <Button variant=\"ghost\" className=\"text-gray-300 hover:text-white\">\n                        Book Facility\n                      </Button>\n                    </Link>\n                    <Link href=\"/store\">\n                      <Button variant=\"ghost\" className=\"text-gray-300 hover:text-white\">\n                        Equipment\n                      </Button>\n                    </Link>\n                  </>\n                )}\n\n                {userRole === Role.EMPLOYEE && (\n                  <Link href=\"/employee/dashboard\">\n                    <Button variant=\"ghost\" className=\"text-gray-300 hover:text-white\">\n                      Dashboard\n                    </Button>\n                  </Link>\n                )}\n\n                {userRole === Role.ADMIN && (\n                  <Link href=\"/admin/dashboard\">\n                    <Button variant=\"ghost\" className=\"text-gray-300 hover:text-white\">\n                      Dashboard\n                    </Button>\n                  </Link>\n                )}\n\n                <Link href=\"/dashboard\">\n                  <Button variant=\"ghost\" className=\"text-gray-300 hover:text-white\">\n                    My Account\n                  </Button>\n                </Link>\n\n                <Button\n                  variant=\"outline\"\n                  className=\"border-red-500 text-red-500 hover:bg-red-500/10\"\n                  onClick={() => logout()}\n                >\n                  Logout\n                </Button>\n              </>\n            ) : (\n              <>\n                <Link href=\"/auth/login\">\n                  <Button variant=\"ghost\" className=\"text-gray-300 hover:text-white\">\n                    Login\n                  </Button>\n                </Link>\n                <Link href=\"/auth/signup\">\n                  <Button className=\"bg-blue-600 text-white hover:bg-blue-700\">\n                    Sign Up\n                  </Button>\n                </Link>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IACzC,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IAE3B,kCAAkC;IAClC,IAAI,SAAS,UAAU,CAAC,WAAW;QACjC,OAAO;IACT;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,+JAAA,CAAA,UAAI;4BAAC,MAAK;4BAAI,WAAU;sCAAkC;;;;;;;;;;;kCAK7D,6LAAC;wBAAI,WAAU;kCACZ,qBACC;;gCACG,aAAa,yHAAA,CAAA,OAAI,CAAC,QAAQ,kBACzB;;sDACE,6LAAC,+JAAA,CAAA,UAAI;4CAAC,MAAK;sDACT,cAAA,6LAAC,qIAAA,CAAA,SAAM;gDAAC,SAAQ;gDAAQ,WAAU;0DAAiC;;;;;;;;;;;sDAIrE,6LAAC,+JAAA,CAAA,UAAI;4CAAC,MAAK;sDACT,cAAA,6LAAC,qIAAA,CAAA,SAAM;gDAAC,SAAQ;gDAAQ,WAAU;0DAAiC;;;;;;;;;;;;;gCAOxE,aAAa,yHAAA,CAAA,OAAI,CAAC,QAAQ,kBACzB,6LAAC,+JAAA,CAAA,UAAI;oCAAC,MAAK;8CACT,cAAA,6LAAC,qIAAA,CAAA,SAAM;wCAAC,SAAQ;wCAAQ,WAAU;kDAAiC;;;;;;;;;;;gCAMtE,aAAa,yHAAA,CAAA,OAAI,CAAC,KAAK,kBACtB,6LAAC,+JAAA,CAAA,UAAI;oCAAC,MAAK;8CACT,cAAA,6LAAC,qIAAA,CAAA,SAAM;wCAAC,SAAQ;wCAAQ,WAAU;kDAAiC;;;;;;;;;;;8CAMvE,6LAAC,+JAAA,CAAA,UAAI;oCAAC,MAAK;8CACT,cAAA,6LAAC,qIAAA,CAAA,SAAM;wCAAC,SAAQ;wCAAQ,WAAU;kDAAiC;;;;;;;;;;;8CAKrE,6LAAC,qIAAA,CAAA,SAAM;oCACL,SAAQ;oCACR,WAAU;oCACV,SAAS,IAAM;8CAChB;;;;;;;yDAKH;;8CACE,6LAAC,+JAAA,CAAA,UAAI;oCAAC,MAAK;8CACT,cAAA,6LAAC,qIAAA,CAAA,SAAM;wCAAC,SAAQ;wCAAQ,WAAU;kDAAiC;;;;;;;;;;;8CAIrE,6LAAC,+JAAA,CAAA,UAAI;oCAAC,MAAK;8CACT,cAAA,6LAAC,qIAAA,CAAA,SAAM;wCAAC,WAAU;kDAA2C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAW/E;GAtFwB;;QACa,iIAAA,CAAA,UAAO;QACzB,qIAAA,CAAA,cAAW;;;KAFN","debugId":null}}]
}